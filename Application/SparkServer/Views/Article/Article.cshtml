@model SparkServer.ViewModels.ArticleViewModel

@{
    ViewBag.Title = Model.ArticleTitle;
}

<div class="gutter">&nbsp;</div>

<article>

    <ul class="about cf">
        <!-- TODO: URL for Category sort -->
        <li><a href="#">@Model.CategoryName</a></li>
        <li>@Model.PublishDateLong</li>
        <li>Sitecore @Model.SitecoreVersionShort</li>
    </ul>

    <div class="cf">

        <h1>@ViewBag.Title</h1>

        @Html.Raw(Model.Body)

    </div>

    @if (Model.RelatedArticles.Count > 0 || Model.RelatedLinks.Count > 0)
    {
        <footer class="cf">
            <h1>Notes</h1>

            @if (Model.RelatedArticles.Count > 0)
            {
                <div class="articles">
                    <h2>Related Articles</h2>

                    <ul>
                        @foreach (var related in Model.RelatedArticles)
                        {
                            <li><a href="@related.URL">@related.Name</a></li>
                        }
                    </ul>
                </div>
            }

            @if (Model.RelatedLinks.Count > 0)
            {
                <div class="notes">
                    <h2>Links</h2>

                    <ul>
                        @foreach (var related in Model.RelatedLinks)
                        {
                            <li><a href="@related.URL">@related.Name</a></li>
                        }
                    </ul>
                </div>
            }
        </footer>
    }

</article>

@section PageScripts {

    <script src="~/Scripts/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

}